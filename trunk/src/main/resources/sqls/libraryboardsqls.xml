<?xml version="1.0" encoding="utf-8"?>

<sqls name="libraryBoard">

	<sql name="DELETE_LIBRARYBOARD_SQL">
		<description>방명록 삭제</description>
		<query>
            <![CDATA[
            	DELETE FROM LIBRARYBOARD 
            	 WHERE library_idNum = ?
            	   AND idNum = ?
            	   AND writer = ? 
            ]]>
		</query>
	</sql>
	
	
	
	<sql name="LIST_LIBRARYBOARD_SQL">
		<description>방명록 목록 조회</description>
		<query>
            <![CDATA[
            	SELECT LRB.idNum as idNum 
            	       , LRB.content as content
            	       , LRB.input_date as inputdate 
            	       , LRB.library_idNum as lidnum
            	       , LRB.writer as writer
            	       , U.name as wname
            	       , U.user_id as wuserid 
            	  FROM LIBRARYBOARD LRB, USER U 
            	 WHERE LRB.writer = U.idNum
            	   AND LRB.library_idNum = ?
              ORDER BY LRB.input_date DESC 
            ]]>
		</query>
	</sql>
	
	
	
	<sql name="INSERT_LIBRARYBOARD_SQL">
		<description>방명록 등록</description>
		<query>
            <![CDATA[
            	INSERT INTO LIBRARYBOARD (
            					library_idNum
            					, writer
            					, content
            					, input_date) 
            	VALUES(?, ?, ?, now())
            ]]>
		</query>
	</sql>

</sqls>